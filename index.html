<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberSense GameHub - Learn Cybersecurity Through Games</title>
    <style>
        :root {
            /* Softer cyber theme */
            --color-bg-primary: #050914;
            --color-bg-secondary: #0b1020;
            --color-bg-tertiary: #121728;
            --color-primary: #46c2b8;          /* soft teal */
            --color-primary-dark: #32948d;
            --color-accent: #ffb3c1;           /* soft pink */
            --color-accent-light: #ffd6e0;
            --color-success: #7ddc8b;          /* soft green */
            --color-warning: #f4c978;          /* warm amber */
            --color-error: #ff6b81;            /* soft red */
            --color-text: #e6f0ff;             /* light bluish white */
            --color-text-secondary: #9aa3c2;   /* muted slate */
            --glow-primary: 0 0 18px rgba(70, 194, 184, 0.35);
            --glow-accent: 0 0 18px rgba(255, 179, 193, 0.35);
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at top, #10172f 0%, var(--color-bg-primary) 55%, #020512 100%);
            color: var(--color-text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header */
        header {
            background: rgba(5, 9, 20, 0.96);
            border-bottom: 1px solid rgba(70, 194, 184, 0.4);
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.45);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(12px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 22px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-icon {
            width: 38px;
            height: 38px;
            background: radial-gradient(circle, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #021015;
            font-size: 20px;
            box-shadow: var(--glow-primary);
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .player-badge {
            background: rgba(18, 23, 40, 0.95);
            padding: 8px 16px;
            border-radius: 24px;
            border: 1px solid rgba(70, 194, 184, 0.6);
            font-size: 13px;
        }

        .sound-toggle {
            background: rgba(18, 23, 40, 0.9);
            border: 1px solid rgba(70, 194, 184, 0.6);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--color-text);
            font-size: 13px;
        }

        .sound-toggle:hover {
            box-shadow: var(--glow-primary);
            background: rgba(15, 20, 35, 0.95);
        }

        /* Main Container */
        .container {
            display: flex;
            height: calc(100vh - 80px);
            overflow: hidden;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 250px;
            background: rgba(8, 12, 26, 0.9);
            border-right: 1px solid rgba(70, 194, 184, 0.25);
            padding: 24px 0;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .nav-item {
            padding: 12px 18px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: var(--transition);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--color-text-secondary);
        }

        .nav-item.active {
            border-left-color: var(--color-primary);
            background: radial-gradient(circle, rgba(70, 194, 184, 0.18) 0%, transparent 70%);
            color: var(--color-primary);
        }

        .nav-item:hover {
            background: rgba(14, 20, 36, 0.9);
            color: var(--color-primary);
        }

        .nav-icon {
            font-size: 18px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.45s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 22px;
            margin-bottom: 40px;
        }

        .game-card {
            background: linear-gradient(145deg, #0e1426, #171d31);
            border: 1px solid rgba(70, 194, 184, 0.28);
            border-radius: 14px;
            padding: 24px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
            opacity: 0;
            transition: var(--transition);
        }

        .game-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
            transform: translateY(-4px);
        }

        .game-card:hover::before {
            opacity: 1;
        }

        .game-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .game-title {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--color-primary);
        }

        .game-desc {
            font-size: 13px;
            color: var(--color-text-secondary);
            margin-bottom: 14px;
        }

        .play-btn {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent-light));
            border: none;
            color: #05161a;
            padding: 9px 18px;
            border-radius: 999px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 13px;
        }

        .play-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow-primary);
        }

        /* Game Screen */
        .game-screen {
            max-width: 800px;
            margin: 0 auto;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 26px;
            padding-bottom: 18px;
            border-bottom: 1px solid rgba(70, 194, 184, 0.24);
        }

        .game-title-large {
            font-size: 26px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-btn {
            background: rgba(18, 23, 40, 0.92);
            border: 1px solid rgba(70, 194, 184, 0.6);
            color: var(--color-primary);
            padding: 8px 18px;
            border-radius: 999px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            font-size: 13px;
        }

        .back-btn:hover {
            box-shadow: var(--glow-primary);
            background: rgba(14, 20, 35, 0.96);
        }

        /* Quiz */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #121728;
            border-radius: 10px;
            margin-bottom: 28px;
            overflow: hidden;
            border: 1px solid rgba(70, 194, 184, 0.28);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
            border-radius: 10px;
            transition: width 0.4s ease;
        }

        .question-container {
            background: rgba(12, 17, 32, 0.96);
            border: 1px solid rgba(70, 194, 184, 0.24);
            border-radius: 12px;
            padding: 26px;
            margin-bottom: 26px;
        }

        .question-text {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 18px;
            color: var(--color-primary);
        }

        .option-btn {
            width: 100%;
            padding: 13px 16px;
            margin-bottom: 10px;
            background: #0e1424;
            border: 1px solid rgba(70, 194, 184, 0.25);
            color: var(--color-text);
            border-radius: 9px;
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
            font-size: 14px;
        }

        .option-btn:hover {
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
            transform: translateX(4px);
        }

        .option-btn.correct {
            border-color: var(--color-success);
            background: rgba(125, 220, 139, 0.1);
            color: var(--color-success);
        }

        .option-btn.incorrect {
            border-color: var(--color-error);
            background: rgba(255, 107, 129, 0.1);
            color: var(--color-error);
        }

        /* Phishing Game */
        .message-card {
            background: rgba(12, 17, 32, 0.96);
            border: 1px solid rgba(70, 194, 184, 0.24);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .message-type {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--color-primary);
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .message-content {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 14px;
            color: var(--color-text);
        }

        .phish-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .phish-btn {
            padding: 11px 16px;
            border: 1px solid;
            border-radius: 9px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 14px;
        }

        .phish-btn.real {
            border-color: var(--color-success);
            color: var(--color-success);
            background: rgba(125, 220, 139, 0.08);
        }

        .phish-btn.real:hover {
            background: rgba(125, 220, 139, 0.18);
            box-shadow: 0 0 18px rgba(125, 220, 139, 0.4);
        }

        .phish-btn.fake {
            border-color: var(--color-error);
            color: var(--color-error);
            background: rgba(255, 107, 129, 0.08);
        }

        .phish-btn.fake:hover {
            background: rgba(255, 107, 129, 0.18);
            box-shadow: 0 0 18px rgba(255, 107, 129, 0.4);
        }

        .feedback-box {
            background: rgba(12, 17, 32, 0.96);
            border-radius: 10px;
            padding: 18px;
            margin-top: 18px;
            border: 1px solid;
            animation: slideUp 0.35s ease;
        }

        .feedback-box.correct {
            border-color: var(--color-success);
            background: rgba(125, 220, 139, 0.08);
        }

        .feedback-box.incorrect {
            border-color: var(--color-error);
            background: rgba(255, 107, 129, 0.08);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback-title {
            font-weight: 700;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .feedback-text {
            font-size: 13px;
        }

        /* Password Meter */
        .password-input-group {
            margin-bottom: 22px;
        }

        .password-input {
            width: 100%;
            padding: 13px;
            background: #101528;
            border: 1px solid rgba(70, 194, 184, 0.26);
            border-radius: 9px;
            color: var(--color-text);
            font-size: 14px;
            transition: var(--transition);
        }

        .password-input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
        }

        .strength-meter {
            height: 8px;
            background: #121728;
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
            border: 1px solid rgba(70, 194, 184, 0.28);
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            background: var(--color-error);
            transition: width 0.4s ease, background 0.4s ease;
        }

        .strength-bar.weak { background: var(--color-error); width: 25%; }
        .strength-bar.fair { background: var(--color-warning); width: 50%; }
        .strength-bar.good { background: #58c59a; width: 75%; }
        .strength-bar.strong { background: var(--color-success); width: 100%; }

        .strength-text {
            font-size: 12px;
            margin-top: 6px;
            font-weight: 600;
        }

        .strength-criteria {
            font-size: 12px;
            margin-top: 14px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .criteria-item {
            display: flex;
            align-items: center;
            gap: 7px;
            color: var(--color-text-secondary);
        }

        .criteria-check {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            border: 1px solid currentColor;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
        }

        .criteria-item.met {
            color: var(--color-success);
        }

        .criteria-item.met .criteria-check {
            background: var(--color-success);
            color: #041114;
        }

        /* Scenario Game */
        .scenario-content {
            background: rgba(12, 17, 32, 0.96);
            border: 1px solid rgba(70, 194, 184, 0.24);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 22px;
        }

        .scenario-text {
            font-size: 15px;
            margin-bottom: 20px;
        }

        .choice-btn {
            width: 100%;
            padding: 13px 16px;
            margin-bottom: 10px;
            background: #0f1424;
            border: 1px solid rgba(70, 194, 184, 0.26);
            color: var(--color-text);
            border-radius: 9px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            text-align: left;
        }

        .choice-btn:hover {
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
            transform: translateX(4px);
        }

        .outcome-box {
            background: #111729;
            border-left: 4px solid;
            border-radius: 10px;
            padding: 18px;
            margin-top: 18px;
            animation: slideUp 0.35s ease;
        }

        .outcome-box.good {
            border-color: var(--color-success);
            background: rgba(125, 220, 139, 0.08);
        }

        .outcome-box.bad {
            border-color: var(--color-error);
            background: rgba(255, 107, 129, 0.08);
        }

        .outcome-title {
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .outcome-text {
            font-size: 13px;
        }

        /* Memory Match */
        .game-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            gap: 14px;
            margin-bottom: 26px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(145deg, #0e1426, #151a2d);
            border: 1px solid rgba(70, 194, 184, 0.26);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
            text-align: center;
            padding: 10px;
            color: transparent;
        }

        .memory-card:hover:not(.matched) {
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
            transform: scale(1.04);
        }

        .memory-card.flipped {
            color: var(--color-primary);
            background: rgba(70, 194, 184, 0.1);
            border-color: var(--color-primary);
        }

        .memory-card.matched {
            border-color: var(--color-success);
            color: var(--color-success);
            background: rgba(125, 220, 139, 0.14);
            cursor: default;
        }

        /* Leaderboard */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 18px;
        }

        .leaderboard-table thead tr {
            background: rgba(70, 194, 184, 0.12);
            border-bottom: 1px solid var(--color-primary);
        }

        .leaderboard-table th {
            padding: 12px;
            text-align: left;
            color: var(--color-primary);
            font-weight: 700;
            font-size: 13px;
        }

        .leaderboard-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(70, 194, 184, 0.16);
            font-size: 14px;
        }

        .leaderboard-table tr:hover {
            background: rgba(8, 13, 25, 0.8);
        }

        .rank-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 999px;
            font-weight: 700;
            font-size: 14px;
        }

        .rank-badge.gold {
            background: rgba(255, 215, 0, 0.18);
            color: #ffd700;
            border: 1px solid #ffd700;
        }

        .rank-badge.silver {
            background: rgba(192, 192, 192, 0.18);
            color: #c0c0c0;
            border: 1px solid #c0c0c0;
        }

        .rank-badge.bronze {
            background: rgba(205, 127, 50, 0.18);
            color: #cd7f32;
            border: 1px solid #cd7f32;
        }

        /* Score Summary */
        .score-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
            gap: 18px;
            margin-bottom: 26px;
        }

        .score-box {
            background: rgba(12, 17, 32, 0.96);
            border: 1px solid rgba(70, 194, 184, 0.22);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .score-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--color-text-secondary);
            margin-bottom: 8px;
            font-weight: 700;
        }

        .score-value {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Confetti */
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .confetti {
            position: fixed;
            width: 9px;
            height: 9px;
            background: var(--color-primary);
            pointer-events: none;
            animation: confetti-fall 3s ease-in forwards;
        }

        /* Avatar Selector */
        .avatar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(56px, 1fr));
            gap: 14px;
            margin-bottom: 24px;
        }

        .avatar-option {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: 1px solid rgba(70, 194, 184, 0.26);
            background: #0f1424;
            cursor: pointer;
            font-size: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .avatar-option:hover {
            border-color: var(--color-primary);
            transform: scale(1.06);
        }

        .avatar-option.selected {
            border-color: var(--color-primary);
            box-shadow: var(--glow-primary);
            background: rgba(70, 194, 184, 0.1);
        }

        /* Learn More Section */
        .terms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 18px;
        }

        .term-card {
            background: rgba(12, 17, 32, 0.96);
            border: 1px solid rgba(70, 194, 184, 0.24);
            border-radius: 12px;
            padding: 18px;
        }

        .term-title {
            color: var(--color-primary);
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 15px;
        }

        .term-text {
            font-size: 13px;
            line-height: 1.6;
            color: var(--color-text-secondary);
        }

        /* Generic Buttons */
        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 14px;
            margin-top: 22px;
        }

        .btn {
            padding: 11px 22px;
            border: none;
            border-radius: 9px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent-light));
            color: #041316;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow-primary);
        }

        .btn-secondary {
            background: #101528;
            border: 1px solid rgba(70, 194, 184, 0.5);
            color: var(--color-primary);
        }

        .btn-secondary:hover {
            background: rgba(16, 21, 40, 0.96);
        }

        /* Footer */
        .main-footer {
            background: #050914;
            border-top: 1px solid rgba(70, 194, 184, 0.35);
            padding: 14px 20px;
            text-align: center;
            font-size: 0.85rem;
            color: #9aa3c2;
            margin-top: 8px;
        }

        .main-footer .footer-content p {
            margin: 3px 0;
        }

        .site-credit {
            opacity: 0.85;
            font-size: 0.8rem;
        }

        .site-credit span {
            color: var(--color-primary);
            font-weight: 600;
        }

        .site-credit:hover {
            opacity: 1;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
            }

            .sidebar {
                width: 100%;
                flex-direction: row;
                height: auto;
                padding: 10px;
                overflow-x: auto;
                border-right: none;
                border-bottom: 1px solid rgba(70, 194, 184, 0.28);
            }

            .nav-item {
                padding: 10px 14px;
                white-space: nowrap;
            }

            .main-content {
                padding: 20px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }

            .phish-buttons {
                grid-template-columns: 1fr;
            }

            header {
                flex-direction: column;
                gap: 10px;
            }

            .game-header {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 9px; }
        ::-webkit-scrollbar-track { background: #0b1020; }
        ::-webkit-scrollbar-thumb {
            background: #2f8f86;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #46c2b8;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <div class="logo-icon">üõ°Ô∏è</div>
            <span>CyberSense GameHub</span>
        </div>
        <div class="header-info">
            <div class="player-badge">
                <span id="playerName">Player</span> | Score: <span id="totalScore">0</span>
            </div>
            <button class="sound-toggle" id="soundToggle">üîä Sound ON</button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="nav-item active" data-section="dashboard">
                <span class="nav-icon">üè†</span>
                <span>Dashboard</span>
            </div>
            <div class="nav-item" data-section="quiz">
                <span class="nav-icon">‚ùì</span>
                <span>Quiz Arena</span>
            </div>
            <div class="nav-item" data-section="phishing">
                <span class="nav-icon">üé£</span>
                <span>Spot the Phish</span>
            </div>
            <div class="nav-item" data-section="password">
                <span class="nav-icon">üîê</span>
                <span>Password Lab</span>
            </div>
            <div class="nav-item" data-section="scenario">
                <span class="nav-icon">üé¨</span>
                <span>Cyber Stories</span>
            </div>
            <div class="nav-item" data-section="memory">
                <span class="nav-icon">üß†</span>
                <span>Memory Match</span>
            </div>
            <div class="nav-item" data-section="leaderboard">
                <span class="nav-icon">üèÜ</span>
                <span>Leaderboard</span>
            </div>
            <div class="nav-item" data-section="learn">
                <span class="nav-icon">üìö</span>
                <span>Learn More</span>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Dashboard Section -->
            <section class="content-section active" id="dashboard">
                <h1 class="game-title-large" style="margin-bottom: 12px;">Welcome to CyberSense GameHub</h1>
                <p style="color: var(--color-text-secondary); margin-bottom: 32px;">
                    Learn cybersecurity through interactive games designed for age 11+. Choose a game below to start!
                </p>

                <!-- Avatar Selector -->
                <div style="margin-bottom: 32px;">
                    <h3 style="color: var(--color-primary); margin-bottom: 12px;">Choose Your Avatar</h3>
                    <div class="avatar-grid">
                        <div class="avatar-option selected" data-avatar="ü•∏">ü•∏</div>
                        <div class="avatar-option" data-avatar="ü¶∏">ü¶∏</div>
                        <div class="avatar-option" data-avatar="üß†">üß†</div>
                        <div class="avatar-option" data-avatar="ü§ñ">ü§ñ</div>
                        <div class="avatar-option" data-avatar="üëæ">üëæ</div>
                        <div class="avatar-option" data-avatar="üéÆ">üéÆ</div>
                    </div>
                </div>

                <h2 style="color: var(--color-primary); margin-bottom: 20px;">Featured Games</h2>
                <div class="dashboard-grid">
                    <div class="game-card" data-game="quiz">
                        <div class="game-icon">‚ùì</div>
                        <div class="game-title">Cyber Quiz Arena</div>
                        <p class="game-desc">Test your cybersecurity knowledge with 20 questions and a final score summary.</p>
                        <button class="play-btn">Play Now</button>
                    </div>

                    <div class="game-card" data-game="phishing">
                        <div class="game-icon">üé£</div>
                        <div class="game-title">Spot The Phish</div>
                        <p class="game-desc">Decide if each message is real or fake and learn the red flags.</p>
                        <button class="play-btn">Play Now</button>
                    </div>

                    <div class="game-card" data-game="password">
                        <div class="game-icon">üîê</div>
                        <div class="game-title">Password Strength Lab</div>
                        <p class="game-desc">Try passwords and see live strength feedback with improvement tips.</p>
                        <button class="play-btn">Play Now</button>
                    </div>

                    <div class="game-card" data-game="scenario">
                        <div class="game-icon">üé¨</div>
                        <div class="game-title">Cyber Scenario Simulator</div>
                        <p class="game-desc">Choose your path in mini stories and see good or bad outcomes.</p>
                        <button class="play-btn">Play Now</button>
                    </div>

                    <div class="game-card" data-game="memory">
                        <div class="game-icon">üß†</div>
                        <div class="game-title">Memory Match</div>
                        <p class="game-desc">Match cyber terms with their meanings in a quick memory challenge.</p>
                        <button class="play-btn">Play Now</button>
                    </div>

                    <div class="game-card" data-game="leaderboard">
                        <div class="game-icon">üèÜ</div>
                        <div class="game-title">Leaderboard</div>
                        <p class="game-desc">See top players and scores saved on this device.</p>
                        <button class="play-btn">View Scores</button>
                    </div>
                </div>
            </section>

            <!-- Quiz Section -->
            <section class="content-section" id="quiz">
                <div class="game-header">
                    <h1 class="game-title-large">Cyber Quiz Arena</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen" id="quizScreen">
                    <div class="progress-bar">
                        <div class="progress-fill" id="quizProgress" style="width: 0%"></div>
                    </div>
                    <div class="question-container" id="quizContainer"></div>
                    <button class="btn btn-primary" id="nextQuizBtn" style="width: 100%;" onclick="nextQuestion()">Next Question</button>
                </div>
                <div id="quizSummary" style="display: none; animation: fadeIn 0.45s ease;">
                    <h2 style="color: var(--color-primary); margin-bottom: 24px;">Quiz Complete!</h2>
                    <div class="score-summary">
                        <div class="score-box">
                            <div class="score-label">Your Score</div>
                            <div class="score-value" id="quizFinalScore">0/20</div>
                        </div>
                        <div class="score-box">
                            <div class="score-label">Accuracy</div>
                            <div class="score-value" id="quizAccuracy">0%</div>
                        </div>
                        <div class="score-box">
                            <div class="score-label">Performance</div>
                            <div class="score-value" id="quizPerformance" style="font-size: 22px;">Great!</div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="resetQuiz()" style="width: 100%; margin-top: 24px;">Play Again</button>
                    <button class="btn btn-secondary" onclick="goToDashboard()" style="width: 100%; margin-top: 12px;">Back to Dashboard</button>
                </div>
            </section>

            <!-- Phishing Section -->
            <section class="content-section" id="phishing">
                <div class="game-header">
                    <h1 class="game-title-large">Spot The Phish</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen">
                    <div style="margin-bottom: 18px;">
                        <span style="color: var(--color-text-secondary);">Message <span id="phishCount">1</span> / 10</span>
                        <div class="progress-bar" style="margin-top: 8px;">
                            <div class="progress-fill" id="phishProgress" style="width: 10%"></div>
                        </div>
                    </div>
                    <div id="phishingContainer"></div>
                    <div id="phishingSummary" style="display: none; animation: fadeIn 0.45s ease;">
                        <h2 style="color: var(--color-primary); margin-bottom: 24px;">Challenge Complete!</h2>
                        <div class="score-summary">
                            <div class="score-box">
                                <div class="score-label">Correct</div>
                                <div class="score-value" id="phishScore">0/10</div>
                            </div>
                            <div class="score-box">
                                <div class="score-label">Accuracy</div>
                                <div class="score-value" id="phishAccuracy">0%</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="resetPhishing()" style="width: 100%; margin-top: 24px;">Try Again</button>
                        <button class="btn btn-secondary" onclick="goToDashboard()" style="width: 100%; margin-top: 12px;">Back to Dashboard</button>
                    </div>
                </div>
            </section>

            <!-- Password Lab Section -->
            <section class="content-section" id="password">
                <div class="game-header">
                    <h1 class="game-title-large">Password Strength Lab</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen">
                    <h2 style="color: var(--color-primary); margin-bottom: 16px;">Test Your Password Strength</h2>
                    <div class="password-input-group">
                        <input type="text" id="passwordInput" class="password-input" placeholder="Type a password to test..." oninput="checkPasswordStrength()">
                        <div class="strength-meter">
                            <div class="strength-bar" id="strengthBar"></div>
                        </div>
                        <div class="strength-text" id="strengthText">Enter a password</div>
                        <div class="strength-criteria">
                            <div class="criteria-item" id="crit1">
                                <div class="criteria-check">‚úì</div>
                                <span>8+ chars</span>
                            </div>
                            <div class="criteria-item" id="crit2">
                                <div class="criteria-check">‚úì</div>
                                <span>Uppercase</span>
                            </div>
                            <div class="criteria-item" id="crit3">
                                <div class="criteria-check">‚úì</div>
                                <span>Numbers</span>
                            </div>
                            <div class="criteria-item" id="crit4">
                                <div class="criteria-check">‚úì</div>
                                <span>Special char</span>
                            </div>
                        </div>
                    </div>

                    <h3 style="color: var(--color-primary); margin: 30px 0 16px 0;">Examples of Weak Passwords</h3>
                    <div style="background: rgba(255, 107, 129, 0.08); border: 1px solid var(--color-error); border-radius: 10px; padding: 16px; margin-bottom: 20px;">
                        <div style="font-family: monospace; color: var(--color-error); margin: 6px 0;">password123</div>
                        <div style="font-family: monospace; color: var(--color-error); margin: 6px 0;">123456</div>
                        <div style="font-family: monospace; color: var(--color-error); margin: 6px 0;">qwerty</div>
                        <div style="font-family: monospace; color: var(--color-error); margin: 6px 0;">john2010</div>
                        <p style="font-size: 12px; color: var(--color-text-secondary); margin-top: 10px;">These are very easy for attackers to guess or crack.</p>
                    </div>

                    <h3 style="color: var(--color-primary); margin: 30px 0 16px 0;">Example of a Strong Password</h3>
                    <div style="background: rgba(125, 220, 139, 0.08); border: 1px solid var(--color-success); border-radius: 10px; padding: 16px;">
                        <div style="font-family: monospace; color: var(--color-success); margin: 6px 0;">Tr0p!c@lSunset42#Mix</div>
                        <p style="font-size: 12px; color: var(--color-text-secondary); margin-top: 10px;">Long, random, and mixes uppercase, lowercase, numbers, and special characters.</p>
                    </div>

                    <div style="background: rgba(70, 194, 184, 0.08); border: 1px solid rgba(70, 194, 184, 0.32); border-radius: 10px; padding: 16px; margin-top: 20px;">
                        <strong>Tip:</strong> Use passphrases like "BlueCar-7-Elephant-Moon!" for strong and memorable passwords.
                    </div>
                </div>
            </section>

            <!-- Scenario Section -->
            <section class="content-section" id="scenario">
                <div class="game-header">
                    <h1 class="game-title-large">Cyber Scenario Simulator</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen" id="scenarioContainer"></div>
            </section>

            <!-- Memory Match Section -->
            <section class="content-section" id="memory">
                <div class="game-header">
                    <h1 class="game-title-large">Memory Match</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen">
                    <div style="margin-bottom: 16px; display: flex; justify-content: space-between;">
                        <div><span style="color: var(--color-text-secondary);">Matches: <strong id="memoryMatches">0</strong>/6</span></div>
                        <div><span style="color: var(--color-text-secondary);">Moves: <strong id="memoryMoves">0</strong></span></div>
                    </div>
                    <div class="game-board" id="memoryBoard"></div>
                    <div id="memorySummary" style="display: none; animation: fadeIn 0.45s ease;">
                        <h2 style="color: var(--color-primary); margin-bottom: 24px;">Game Complete!</h2>
                        <div class="score-summary">
                            <div class="score-box">
                                <div class="score-label">Total Moves</div>
                                <div class="score-value" id="memoryFinalMoves">0</div>
                            </div>
                            <div class="score-box">
                                <div class="score-label">Performance</div>
                                <div class="score-value" id="memoryPerformance" style="font-size: 22px;">Good!</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="resetMemory()" style="width: 100%; margin-top: 24px;">Play Again</button>
                        <button class="btn btn-secondary" onclick="goToDashboard()" style="width: 100%; margin-top: 12px;">Back to Dashboard</button>
                    </div>
                </div>
            </section>

            <!-- Leaderboard Section -->
            <section class="content-section" id="leaderboard">
                <div class="game-header">
                    <h1 class="game-title-large">Global Leaderboard</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen">
                    <p style="color: var(--color-text-secondary); margin-bottom: 18px;">Top 10 players based on scores on this device.</p>
                    <table class="leaderboard-table" id="leaderboardTable">
                        <thead>
                            <tr>
                                <th style="width: 60px;">Rank</th>
                                <th>Player</th>
                                <th style="width: 120px;">Score</th>
                                <th style="width: 150px;">Last Updated</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboardBody"></tbody>
                    </table>
                    <button class="btn btn-secondary" onclick="goToDashboard()" style="width: 100%; margin-top: 24px;">Back to Dashboard</button>
                </div>
            </section>

            <!-- Learn More Section -->
            <section class="content-section" id="learn">
                <div class="game-header">
                    <h1 class="game-title-large">Learn Cybersecurity Basics</h1>
                    <button class="back-btn" onclick="goToDashboard()">‚Üê Back</button>
                </div>
                <div class="game-screen">
                    <p style="color: var(--color-text-secondary); margin-bottom: 24px;">Explore key cybersecurity terms explained in simple language.</p>
                    <div class="terms-grid" id="termsGrid"></div>
                    <button class="btn btn-secondary" onclick="goToDashboard()" style="width: 100%; margin-top: 24px;">Back to Dashboard</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Script (same logic, just using new colors from CSS) -->
    <script>
        const gameState = {
            soundEnabled: true,
            playerName: 'Player',
            playerAvatar: 'ü•∏',
            totalScore: 0
        };

        const quizQuestions = [
            { q: "What is phishing?", a: "Sending fake emails pretending to be from trusted sources", opts: ["Fishing in the ocean", "Sending fake emails pretending to be from trusted sources", "A type of fish", "Internet speed"] },
            { q: "Which is a strong password?", a: "Blue$Car7-Moon2024!", opts: ["password123", "Blue$Car7-Moon2024!", "12345678", "abcdefgh"] },
            { q: "What does VPN stand for?", a: "Virtual Private Network", opts: ["Very Popular Nickname", "Virtual Private Network", "Video Protocol Number", "Viral Private Network"] },
            { q: "What is malware?", a: "Malicious software designed to harm your computer", opts: ["A type of hair gel", "Malicious software designed to harm your computer", "A brand of clothing", "A social media platform"] },
            { q: "What should you do if you see a suspicious link?", a: "Don't click it and report it", opts: ["Click it to see what it is", "Don't click it and report it", "Forward it to your friends", "Download the file"] },
            { q: "Which is a phishing red flag?", a: "Asking for passwords via email", opts: ["Professional signature", "Asking for passwords via email", "Recent date", "Company logo"] },
            { q: "What is two-factor authentication?", a: "Using two ways to verify your identity", opts: ["Using two passwords", "Using two ways to verify your identity", "Logging in twice", "Two internet connections"] },
            { q: "What is ransomware?", a: "Software that locks your files and demands payment", opts: ["A type of RAM", "Software that locks your files and demands payment", "Random software", "A gaming application"] },
            { q: "How often should you update passwords?", a: "Regularly, especially after suspicious activity", opts: ["Never", "Once a year", "Regularly, especially after suspicious activity", "Only on Fridays"] },
            { q: "What is social engineering?", a: "Manipulating people into revealing confidential info", opts: ["Building social networks", "Manipulating people into revealing confidential info", "Social media engineering", "Group psychology"] },
            { q: "What does HTTPS mean?", a: "A secure version of HTTP with encryption", opts: ["Hyper Text Transfer Process", "A secure version of HTTP with encryption", "High Speed Internet", "Home Transfer Service"] },
            { q: "Which is NOT a common phishing method?", a: "Using quantum computers", opts: ["Fake email addresses", "SMS messages", "Using quantum computers", "Fake websites"] },
            { q: "What is a firewall?", a: "Software/hardware that blocks unauthorized access", opts: ["A wall made of fire", "Software/hardware that blocks unauthorized access", "A type of antivirus", "A backup system"] },
            { q: "Should you share your password with anyone?", a: "Never, not even your best friend", opts: ["Yes, with best friends", "Yes, with family", "Never, not even your best friend", "Yes, if they ask nicely"] },
            { q: "What is cryptography?", a: "The practice of secure communication using codes", opts: ["A type of currency", "The practice of secure communication using codes", "Breaking codes", "A programming language"] },
            { q: "What is a data breach?", a: "Unauthorized access to confidential information", opts: ["Breaking your computer", "Unauthorized access to confidential information", "Fast internet breach", "Security update"] },
            { q: "Which password is strongest?", a: "Tr0p!c@lSunset-42", opts: ["abc123456", "Tr0p!c@lSunset-42", "letmein", "welcome"] },
            { q: "What is antivirus software?", a: "Software that detects and removes malicious programs", opts: ["A virus made of ants", "Software that detects and removes malicious programs", "A type of firewall", "Internet speed booster"] },
            { q: "Why is public WiFi dangerous?", a: "Hackers can intercept unencrypted data", opts: ["It's slow", "Hackers can intercept unencrypted data", "It has bad weather", "It's for public use only"] },
            { q: "What should you do with old devices?", a: "Securely wipe data before disposing", opts: ["Throw them in the trash", "Securely wipe data before disposing", "Leave them on the porch", "Give them away without erasing"] }
        ];

        const phishingMessages = [
            {
                type: "Email",
                msg: "Subject: Your Account Has Been Compromised!\nDear Valued Customer,\nWe detected unusual activity on your account. Click here immediately to verify your password.\nClick Link: secure-verify.com/reset\n- PayPal Security Team",
                answer: "Fake",
                explain: "Urgency, asking for your password, and a suspicious domain are strong red flags."
            },
            {
                type: "SMS",
                msg: "üéâ Congratulations! You've won a FREE iPhone 15! Click: free-iphone.link/claim to claim your prize!",
                answer: "Fake",
                explain: "Unsolicited prizes and strange links are typical phishing tricks."
            },
            {
                type: "Email",
                msg: "Hi,\nYour invoice #12345 is ready. Please review the attached PDF.\nBest regards,\nAcme Company Billing",
                answer: "Real",
                explain: "Professional tone, specific reference, and a normal business context."
            },
            {
                type: "WhatsApp",
                msg: "Hi! It's me, your bank. Your card was declined. Reply with your card number and CVV to reactivate it.",
                answer: "Fake",
                explain: "Banks do not ask for card details or CVV over chat or SMS."
            },
            {
                type: "Email",
                msg: "Microsoft Account Security Alert\nWe detected a sign-in from a new location. Confirm it was you: https://account.microsoft.com/security\n(This email was sent from Microsoft Security team)",
                answer: "Real",
                explain: "Official domain and a normal security notification without asking for your password."
            },
            {
                type: "Email",
                msg: "ACTION REQUIRED: Your Google Account needs verification. Your account will be suspended in 24 hours unless you verify: click-here-now.org/google",
                answer: "Fake",
                explain: "Threats, countdowns, and wrong domains are all phishing signs."
            },
            {
                type: "Email",
                msg: "Dear Valued Employee,\nPlease submit your Q4 expenses report by Friday using this form.\nThanks,\nHR Department",
                answer: "Real",
                explain: "Internal company message with a clear and normal request."
            },
            {
                type: "SMS",
                msg: "ALERT: Unusual activity detected on your Netflix account. Verify your account now: netflix-security.net/verify",
                answer: "Fake",
                explain: "Uses a fake domain and urgent wording to push you to click."
            },
            {
                type: "Email",
                msg: "Thank you for your Amazon purchase! Your order has been dispatched. Track it here: amazon.com/orders/track",
                answer: "Real",
                explain: "Expected order confirmation from the correct amazon.com domain."
            },
            {
                type: "Email",
                msg: "URGENT: Your Roblox account has been locked due to suspicious activity. Confirm your login immediately or lose your account: roblox-verify.ru/login",
                answer: "Fake",
                explain: "Scary language plus a non‚Äëofficial domain make this clear phishing."
            }
        ];

        const scenarios = [
            {
                title: "The Mysterious Pop-up",
                story: "You're browsing the web and a pop-up appears: 'CLAIM YOUR FREE ROBUX! You've been chosen as our lucky winner! Click here to claim your prize!'",
                choices: [
                    { text: "Click on the pop-up to claim your Robux", outcome: "bad", result: "‚ùå Oh no! The pop-up installed malware. Free offers like this are usually scams." },
                    { text: "Close the pop-up and ignore it", outcome: "good", result: "‚úì Great decision! Closing suspicious pop-ups keeps your device safer." },
                    { text: "Tell a trusted adult about the suspicious pop-up", outcome: "good", result: "‚úì Excellent! Asking for help is a strong cyber safety habit." }
                ]
            },
            {
                title: "The Friend Request Mystery",
                story: "Someone claiming to be your friend sends you a message: 'Hey! Check out this video link, it's hilarious!' but the link looks strange.",
                choices: [
                    { text: "Click the link to see what it is", outcome: "bad", result: "‚ùå Uh oh! It was a phishing link that could steal your details." },
                    { text: "Ask your friend directly if they sent the message", outcome: "good", result: "‚úì Smart! Double-checking with your friend helps you avoid scams." },
                    { text: "Report and block the account", outcome: "good", result: "‚úì Perfect! Reporting suspicious accounts protects you and others." }
                ]
            },
            {
                title: "The Urgent Email",
                story: "You receive an email from 'your bank' saying: 'Your account has been compromised! Click here IMMEDIATELY to verify your password.'",
                choices: [
                    { text: "Click the link and enter your password", outcome: "bad", result: "‚ùå This was a phishing email. Real banks never ask for passwords by email." },
                    { text: "Call your bank's official number to verify", outcome: "good", result: "‚úì Excellent! Using an official phone number is the safest way to check." },
                    { text: "Ignore the email and go to the bank website directly", outcome: "good", result: "‚úì Great thinking! Type the bank's address yourself, never trust random links." }
                ]
            }
        ];

        const memoryCards = [
            { term: "Phishing", def: "Fake emails tricking you" },
            { term: "Malware", def: "Harmful software" },
            { term: "VPN", def: "Secure private connection" },
            { term: "Firewall", def: "Blocks unauthorized access" },
            { term: "Encryption", def: "Scrambles data securely" },
            { term: "Password", def: "Secret access code" }
        ];

        const cyberTerms = [
            { title: "Phishing", desc: "Tricking people into giving away information, often using fake emails, messages, or websites." },
            { title: "Malware", desc: "Software that is created to damage devices, steal data, or spy on users." },
            { title: "Ransomware", desc: "Malware that locks your files and demands money to unlock them." },
            { title: "VPN", desc: "Virtual Private Network ‚Äì it hides your real location and protects your connection on public WiFi." },
            { title: "Firewall", desc: "A digital gatekeeper that helps block unwanted or unsafe network traffic." },
            { title: "Encryption", desc: "Turning readable information into secret code so only people with the key can read it." },
            { title: "Two-Factor Authentication", desc: "Using two checks, like a password plus a code from your phone, to log in securely." },
            { title: "Password Manager", desc: "A safe place that stores and fills in strong passwords for all your accounts." }
        ];

        function init() {
            loadLeaderboard();
            setupEventListeners();
            setupQuiz();
            setupPhishing();
            setupMemory();
            setupScenarios();
            setupLearnMore();
        }

        function setupEventListeners() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.dataset.section;
                    showSection(section);
                    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    const game = this.dataset.game;
                    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    document.querySelector(`[data-section="${game}"]`).classList.add('active');
                    showSection(game);
                });
            });

            document.querySelectorAll('.avatar-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.avatar-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                    gameState.playerAvatar = this.dataset.avatar;
                    document.querySelector('.player-badge').textContent = `${gameState.playerAvatar} Player | Score: ${gameState.totalScore}`;
                });
            });

            document.getElementById('soundToggle').addEventListener('click', function() {
                gameState.soundEnabled = !gameState.soundEnabled;
                this.textContent = gameState.soundEnabled ? 'üîä Sound ON' : 'üîá Sound OFF';
            });

            const savedName = localStorage.getItem('playerName');
            if (savedName) {
                gameState.playerName = savedName;
                document.getElementById('playerName').textContent = gameState.playerName;
            }
        }

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function goToDashboard() {
            showSection('dashboard');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelector('[data-section="dashboard"]').classList.add('active');
        }

        // Quiz
        let currentQuestion = 0;
        let quizScore = 0;
        let quizAnswered = false;

        function setupQuiz() {
            showQuizQuestion();
        }

        function resetQuiz() {
            currentQuestion = 0;
            quizScore = 0;
            quizAnswered = false;
            document.getElementById('quizScreen').style.display = 'block';
            document.getElementById('quizSummary').style.display = 'none';
            showQuizQuestion();
        }

        function showQuizQuestion() {
            const q = quizQuestions[currentQuestion];
            const shuffled = [...q.opts].sort(() => Math.random() - 0.5);
            const optionsHTML = shuffled.map(opt =>
                `<button class="option-btn" onclick="selectAnswer('${opt.replace(/'/g, "\\'")}', '${q.a.replace(/'/g, "\\'")}')">${opt}</button>`
            ).join('');

            document.getElementById('quizContainer').innerHTML = `
                <div class="question-text">Question ${currentQuestion + 1} / ${quizQuestions.length}</div>
                <div style="font-size: 17px; margin-bottom: 18px;">${q.q}</div>
                ${optionsHTML}
            `;

            const progress = (currentQuestion / quizQuestions.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';
            const btn = document.getElementById('nextQuizBtn');
            btn.disabled = true;
            btn.style.opacity = '0.5';
            quizAnswered = false;
        }

        function selectAnswer(selected, correct) {
            if (quizAnswered) return;
            quizAnswered = true;

            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                if (btn.textContent === correct) {
                    btn.classList.add('correct');
                }
                if (btn.textContent === selected && selected !== correct) {
                    btn.classList.add('incorrect');
                }
                btn.style.pointerEvents = 'none';
            });

            if (selected === correct) {
                quizScore++;
                playSound('correct');
            } else {
                playSound('incorrect');
            }

            const btn = document.getElementById('nextQuizBtn');
            btn.disabled = false;
            btn.style.opacity = '1';
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizQuestions.length) {
                showQuizQuestion();
            } else {
                endQuiz();
            }
        }

        function endQuiz() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('quizSummary').style.display = 'block';

            const score = quizScore;
            const accuracy = Math.round((score / quizQuestions.length) * 100);
            let performance = 'Excellent!';
            if (accuracy < 50) performance = 'Keep Learning!';
            else if (accuracy < 70) performance = 'Good Effort!';
            else if (accuracy < 90) performance = 'Great!';

            document.getElementById('quizFinalScore').textContent = `${score}/${quizQuestions.length}`;
            document.getElementById('quizAccuracy').textContent = accuracy + '%';
            document.getElementById('quizPerformance').textContent = performance;

            gameState.totalScore += score * 5;
            updateScore();
            saveToLeaderboard();
            playSound('complete');
            createConfetti();
        }

        // Phishing
        let currentPhish = 0;
        let phishScore = 0;
        let phishAnswered = false;

        function setupPhishing() {
            showPhishingMessage();
        }

        function resetPhishing() {
            currentPhish = 0;
            phishScore = 0;
            phishAnswered = false;
            document.getElementById('phishingContainer').innerHTML = '';
            document.getElementById('phishingSummary').style.display = 'none';
            showPhishingMessage();
        }

        function showPhishingMessage() {
            const msg = phishingMessages[currentPhish];
            document.getElementById('phishCount').textContent = currentPhish + 1;
            document.getElementById('phishProgress').style.width = ((currentPhish + 1) / phishingMessages.length) * 100 + '%';

            document.getElementById('phishingContainer').innerHTML = `
                <div class="message-card">
                    <div class="message-type">${msg.type}</div>
                    <div class="message-content">${msg.msg.replace(/\n/g, '<br>')}</div>
                    <div class="phish-buttons">
                        <button class="phish-btn real" onclick="answerPhish('Real', '${msg.answer}', '${msg.explain.replace(/'/g, "\\'")}')">‚úì Real</button>
                        <button class="phish-btn fake" onclick="answerPhish('Fake', '${msg.answer}', '${msg.explain.replace(/'/g, "\\'")}')">‚úó Fake</button>
                    </div>
                </div>
            `;
            phishAnswered = false;
        }

        function answerPhish(answer, correct, explain) {
            if (phishAnswered) return;
            phishAnswered = true;

            const container = document.getElementById('phishingContainer');
            const isCorrect = answer === correct;
            if (isCorrect) phishScore++;

            const feedbackClass = isCorrect ? 'correct' : 'incorrect';
            const feedbackTitle = isCorrect ? 'Correct!' : 'Not quite.';
            const feedback = `
                <div class="feedback-box ${feedbackClass}">
                    <div class="feedback-title">${feedbackTitle}</div>
                    <div class="feedback-text"><strong>Why:</strong> ${explain}</div>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 16px;" onclick="nextPhishing()">Next Message ‚Üí</button>
            `;

            container.innerHTML += feedback;

            if (isCorrect) playSound('correct');
            else playSound('incorrect');
        }

        function nextPhishing() {
            currentPhish++;
            if (currentPhish < phishingMessages.length) {
                document.getElementById('phishingContainer').innerHTML = '';
                showPhishingMessage();
            } else {
                endPhishing();
            }
        }

        function endPhishing() {
            document.getElementById('phishingContainer').innerHTML = '';
            document.getElementById('phishingSummary').style.display = 'block';

            const accuracy = Math.round((phishScore / phishingMessages.length) * 100);
            document.getElementById('phishScore').textContent = `${phishScore}/${phishingMessages.length}`;
            document.getElementById('phishAccuracy').textContent = accuracy + '%';

            gameState.totalScore += phishScore * 10;
            updateScore();
            saveToLeaderboard();
            playSound('complete');
            createConfetti();
        }

        // Password
        function checkPasswordStrength() {
            const password = document.getElementById('passwordInput').value;
            let strength = 0;
            const met = [false, false, false, false];

            if (password.length >= 8) { strength += 25; met[0] = true; }
            if (/[A-Z]/.test(password)) { strength += 25; met[1] = true; }
            if (/[0-9]/.test(password)) { strength += 25; met[2] = true; }
            if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) { strength += 25; met[3] = true; }

            const bar = document.getElementById('strengthBar');
            const text = document.getElementById('strengthText');
            bar.className = 'strength-bar';

            if (password === '') {
                text.textContent = 'Enter a password';
            } else if (strength <= 25) {
                text.textContent = 'Weak - add more length and variety.';
                bar.classList.add('weak');
            } else if (strength <= 50) {
                text.textContent = 'Fair - getting better, keep going.';
                bar.classList.add('fair');
            } else if (strength <= 75) {
                text.textContent = 'Good - strong for most accounts.';
                bar.classList.add('good');
            } else {
                text.textContent = 'Strong - excellent password!';
                bar.classList.add('strong');
            }

            ['crit1', 'crit2', 'crit3', 'crit4'].forEach((id, i) => {
                const el = document.getElementById(id);
                if (met[i]) el.classList.add('met');
                else el.classList.remove('met');
            });
        }

        // Scenarios
        let currentScenario = 0;

        function setupScenarios() {
            showScenario();
        }

        function showScenario() {
            const scenario = scenarios[currentScenario];
            const choicesHTML = scenario.choices.map((choice, i) =>
                `<button class="choice-btn" onclick="selectChoice('${choice.outcome}','${choice.result.replace(/'/g, "\\'")}')">${choice.text}</button>`
            ).join('');

            document.getElementById('scenarioContainer').innerHTML = `
                <div class="scenario-content">
                    <div class="scenario-text">${scenario.story}</div>
                    ${choicesHTML}
                    <div id="scenarioOutcome"></div>
                </div>
            `;
        }

        function selectChoice(outcome, result) {
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => btn.style.pointerEvents = 'none');

            const outcomeBox = document.getElementById('scenarioOutcome');
            const firstSpace = result.indexOf(' ');
            const title = firstSpace > 0 ? result.substring(0, firstSpace) : '';
            const text = firstSpace > 0 ? result.substring(firstSpace + 1) : result;

            outcomeBox.innerHTML = `
                <div class="outcome-box ${outcome === 'good' ? 'good' : 'bad'}">
                    <div class="outcome-title">${title}</div>
                    <div class="outcome-text">${text}</div>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 16px;" onclick="nextScenario()">
                    ${currentScenario < scenarios.length - 1 ? 'Next Story ‚Üí' : 'Finish ‚Üí'}
                </button>
            `;

            playSound(outcome === 'good' ? 'correct' : 'incorrect');
            gameState.totalScore += 10;
            updateScore();
        }

        function nextScenario() {
            currentScenario++;
            if (currentScenario < scenarios.length) {
                showScenario();
            } else {
                saveToLeaderboard();
                playSound('complete');
                createConfetti();
                goToDashboard();
                currentScenario = 0;
            }
        }

        // Memory
        let memoryShuffled = [];
        let selectedCards = [];
        let matchedPairs = 0;
        let memoryMoves = 0;

        function setupMemory() {
            resetMemory();
        }

        function resetMemory() {
            matchedPairs = 0;
            memoryMoves = 0;
            selectedCards = [];
            document.getElementById('memoryBoard').innerHTML = '';
            document.getElementById('memorySummary').style.display = 'none';
            document.getElementById('memoryMatches').textContent = '0';
            document.getElementById('memoryMoves').textContent = '0';
            document.getElementById('memoryBoard').style.pointerEvents = 'auto';

            memoryShuffled = [...memoryCards, ...memoryCards]
                .sort(() => Math.random() - 0.5)
                .map((item, i) => ({ ...item, id: i }));

            const board = document.getElementById('memoryBoard');
            memoryShuffled.forEach((item, i) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = i;
                card.textContent = '?';
                card.addEventListener('click', () => flipMemoryCard(i));
                board.appendChild(card);
            });
        }

        function flipMemoryCard(index) {
            const card = document.querySelector(`[data-index="${index}"]`);
            if (!card || card.classList.contains('flipped') || card.classList.contains('matched') || selectedCards.length >= 2) return;

            card.classList.add('flipped');
            card.textContent = memoryShuffled[index].term;
            selectedCards.push(index);

            if (selectedCards.length === 2) {
                memoryMoves++;
                document.getElementById('memoryMoves').textContent = memoryMoves;
                checkMemoryMatch();
            }
        }

        function checkMemoryMatch() {
            const [i1, i2] = selectedCards;
            const card1 = memoryShuffled[i1];
            const card2 = memoryShuffled[i2];

            setTimeout(() => {
                const el1 = document.querySelector(`[data-index="${i1}"]`);
                const el2 = document.querySelector(`[data-index="${i2}"]`);
                if (!el1 || !el2) return;

                if ((card1.term === card2.term && card1.id !== card2.id) ||
                    (card1.def === card2.def && card1.id !== card2.id)) {
                    el1.classList.add('matched');
                    el2.classList.add('matched');
                    matchedPairs++;
                    document.getElementById('memoryMatches').textContent = matchedPairs.toString();
                    playSound('correct');

                    if (matchedPairs === memoryCards.length) {
                        endMemory();
                    }
                } else {
                    el1.classList.remove('flipped');
                    el2.classList.remove('flipped');
                    el1.textContent = '?';
                    el2.textContent = '?';
                    playSound('incorrect');
                }
                selectedCards = [];
            }, 900);
        }

        function endMemory() {
            document.getElementById('memoryBoard').style.pointerEvents = 'none';
            const performance = memoryMoves <= 10 ? 'Excellent!' : memoryMoves <= 15 ? 'Great!' : 'Good!';
            document.getElementById('memorySummary').style.display = 'block';
            document.getElementById('memoryFinalMoves').textContent = memoryMoves.toString();
            document.getElementById('memoryPerformance').textContent = performance;

            gameState.totalScore += Math.max(100 - memoryMoves * 5, 10);
            updateScore();
            saveToLeaderboard();
            playSound('complete');
            createConfetti();
        }

        // Learn More
        function setupLearnMore() {
            const grid = document.getElementById('termsGrid');
            cyberTerms.forEach(term => {
                const card = document.createElement('div');
                card.className = 'term-card';
                card.innerHTML = `
                    <div class="term-title">${term.title}</div>
                    <div class="term-text">${term.desc}</div>
                `;
                grid.appendChild(card);
            });
        }

        // Leaderboard
        function loadLeaderboard() {
            const saved = localStorage.getItem('leaderboard');
            const leaderboard = saved ? JSON.parse(saved) : [];
            displayLeaderboard(leaderboard);
        }

        function saveToLeaderboard() {
            let leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            const existing = leaderboard.findIndex(p => p.name === gameState.playerName);
            const newEntry = {
                name: gameState.playerName,
                avatar: gameState.playerAvatar,
                score: gameState.totalScore,
                date: new Date().toLocaleDateString()
            };

            if (existing >= 0) {
                if (gameState.totalScore > leaderboard[existing].score) {
                    leaderboard[existing] = newEntry;
                }
            } else {
                leaderboard.push(newEntry);
            }

            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 10);
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
            displayLeaderboard(leaderboard);
        }

        function displayLeaderboard(leaderboard) {
            const body = document.getElementById('leaderboardBody');
            body.innerHTML = leaderboard.map((player, i) => {
                let medal = '';
                if (i === 0) medal = '<span class="rank-badge gold">ü•á</span>';
                else if (i === 1) medal = '<span class="rank-badge silver">ü•à</span>';
                else if (i === 2) medal = '<span class="rank-badge bronze">ü•â</span>';

                return `
                    <tr>
                        <td>${medal || `<span style="color: var(--color-text-secondary);">#${i + 1}</span>`}</td>
                        <td>${player.avatar} ${player.name}</td>
                        <td>${player.score}</td>
                        <td>${player.date}</td>
                    </tr>
                `;
            }).join('');
        }

        function updateScore() {
            document.getElementById('totalScore').textContent = gameState.totalScore;
        }

        // Sound & Confetti
        function playSound(type) {
            if (!gameState.soundEnabled) return;
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return;
            const audioContext = new AudioContext();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            if (type === 'correct') {
                oscillator.frequency.value = 800;
                gainNode.gain.setValueAtTime(0.06, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.18);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.18);
            } else if (type === 'incorrect') {
                oscillator.frequency.value = 320;
                gainNode.gain.setValueAtTime(0.06, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } else if (type === 'complete') {
                const freqs = [620, 820, 1020];
                freqs.forEach((freq, i) => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    osc.frequency.value = freq;
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    const t = audioContext.currentTime + i * 0.12;
                    gain.gain.setValueAtTime(0.06, t);
                    gain.gain.exponentialRampToValueAtTime(0.01, t + 0.22);
                    osc.start(t);
                    osc.stop(t + 0.22);
                });
            }
        }

        function createConfetti() {
            for (let i = 0; i < 26; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.background = Math.random() > 0.5 ? 'var(--color-primary)' : 'var(--color-accent)';
                confetti.style.animationDelay = (Math.random() * 0.4) + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3200);
            }
        }

        window.addEventListener('load', init);
    </script>

    <footer class="main-footer">
        <div class="footer-content">
            <p>¬© 2025 CyberSense GameHub. All rights reserved.</p>
            <p class="site-credit">
                Designed & developed by <span>Ali Siam</span> ‚Äì Cyber Security Enthusiast
            </p>
        </div>
    </footer>
</body>
</html>
